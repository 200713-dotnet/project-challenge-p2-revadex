«-
b/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Controllers/ConstellationController.cs
	namespace		 	
StarDex		
 
.		 
Client		 
.		 
Controllers		 $
{		% &
public

 
class

	 #
ConstellationController

 &
:

' (

Controller

) 3
{

4 5
[ 
HttpGet 
] 
public 

IActionResult 
Get 
( 
string #
name$ (
)( )
{* +
string 

jsonString 
= 
$str 
; 
HttpWebRequest 
request 
= 
(  
HttpWebRequest  .
). /

WebRequest0 :
.: ;
Create; A
(A B
$"B DJ
=https://domainserviceapi.azurewebsites.net/api/Constellation/	D Å
{
Å Ç
name
Ç Ü
}
Ü á
"
á à
)
à â
;
â ä
HttpWebResponse 
response 
; 
try 	
{
 
response 
= 
( 
HttpWebResponse #
)# $
request% ,
., -
GetResponse- 8
(8 9
)9 :
;: ;
} 
catch 
( 
WebException 
e 
) 
{  
response 
= 
( 
HttpWebResponse #
)# $
e% &
.& '
Response' /
;/ 0
if 

( 
response 
!= 
null 
) 
{ 
return
 
Redirect 
( 
$str 
) 
; 
} 	
else
 
{ 
return
 
Redirect 
( 
$str 
) 
; 
} 	
} 
using 
( 
response 
) 
{ 
using 
( 
Stream 
stream 
= 
response '
.' (
GetResponseStream( 9
(9 :
): ;
); <
{= >
using
 
( 
StreamReader 
reader $
=% &
new' *
StreamReader+ 7
(7 8
stream8 >
)> ?
)? @
{A B

jsonString 
= 
reader 
.  
	ReadToEnd  )
() *
)* +
;+ ,
}
 
}   	
}!! 
JObject"" 
json"" 
="" 
JObject"" 
."" 
Parse"" "
(""" #

jsonString""# -
)""- .
;"". /"
ConstellationViewModel$$ 
model$$ "
=$$# $
new$$% ("
ConstellationViewModel$$) ?
{$$? @
name%% 
=%% 
name%% 
,%% 
description&& 
=&& 
(&& 
string&& 
)&& 
json&& #
[&&# $
$str&&$ 1
]&&1 2
,&&2 3
stars'' 
='' 
new'' 
List'' 
<'' 
StarViewModel'' &
>''& '
(''' (
)''( )
}(( 
;(( 
foreach)) 
()) 
JToken)) 
star)) 
in)) 
json)) "
[))" #
$str))# *
]))* +
)))+ ,
{))- .
model** 
.** 
stars** 
.** 
Add** 
(** 
new** 
StarViewModel** )
{**) *
Name*** .
=**/ 0
(**1 2
string**2 8
)**8 9
star**: >
[**> ?
$str**? E
]**E F
}**F G
)**G H
;**H I
}++ 
request-- 
=-- 
(-- 
HttpWebRequest-- 
)--  

WebRequest--! +
.--+ ,
Create--, 2
(--2 3
$"--3 5D
8https://imageservicerevadex.azurewebsites.net/api/Image/--5 m
{--m n
name--n r
}--r s
"--s t
)--t u
;--u v
try.. 	
{..
 
response// 
=// 
(// 
HttpWebResponse// #
)//# $
request//% ,
.//, -
GetResponse//- 8
(//8 9
)//9 :
;//: ;
using00 
(00 
response00 
)00 
{00 
using11 
(11 
Stream11 
stream11 
=11 
response11 '
.11' (
GetResponseStream11( 9
(119 :
)11: ;
)11; <
{11= >
using22
 
(22 
StreamReader22 
reader22 $
=22% &
new22' *
StreamReader22+ 7
(227 8
stream228 >
)22> ?
)22? @
{22A B
model33 
.33 
imageURL33 
=33 
reader33 #
.33# $
	ReadToEnd33$ -
(33- .
)33. /
;33/ 0
}44
 
}55 	
}66 
}77 
catch77 
(77 
WebException77 
e77 
)77 
{77  
response88 
=88 
(88 
HttpWebResponse88 #
)88# $
e88% &
.88& '
Response88' /
;88/ 0
}99 
return;; 
View;; 
(;; 
$str;; !
,;;! "
model;;# (
);;( )
;;;) *
}<< 
}== 
}>> ˛A
Y/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Controllers/HomeController.cs
	namespace 	
StarDex
 
. 
Client 
. 
Controllers $
{% &
public 
class	 
HomeController 
: 

Controller  *
{+ ,
private 
readonly 
ILogger 
< 
HomeController +
>+ ,
_logger- 4
;4 5
private 
List 
< $
ConstellationButtonModel )
>) *
starButtons+ 6
;6 7
private 
List 
< 
PlanetViewModel  
>  !
planetButtons" /
;/ 0
public 

HomeController 
( 
ILogger !
<! "
HomeController" 0
>0 1
logger2 8
)8 9
{: ;
_logger 
= 
logger 
; 
} 
public 

IActionResult 
Index 
( 
)  
{! "
starButtons 
= 
StarButtons 
(  
)  !
;! "
planetButtons 
= 
PlanetButtons #
(# $
)$ %
;% &
HomeViewModel 
model 
= 
new 
HomeViewModel  -
(- .
). /
;/ 0
model 
. 
stars 
= 
starButtons 
;  
model 
. 
planets 
= 
planetButtons #
;# $
return 
View 
( 
model 
) 
; 
} 
List 
< 	$
ConstellationButtonModel	 !
>! "
StarButtons# .
(. /
)/ 0
{1 2
string 

jsonString 
= 
null 
; 
HttpWebRequest   
request   
=   
(    
HttpWebRequest    .
)  . /

WebRequest  0 :
.  : ;
Create  ; A
(  A B
$str	  B Å
)
  Å Ç
;
  Ç É
using!! 
(!! 
HttpWebResponse!! 
response!! %
=!!& '
(!!( )
HttpWebResponse!!) 8
)!!8 9
request!!: A
.!!A B
GetResponse!!B M
(!!M N
)!!N O
)!!O P
{!!Q R
using"" 
("" 
Stream"" 
stream"" 
="" 
response"" '
.""' (
GetResponseStream""( 9
(""9 :
)"": ;
)""; <
{""= >
using##
 
(## 
StreamReader## 
reader## $
=##% &
new##' *
StreamReader##+ 7
(##7 8
stream##8 >
)##> ?
)##? @
{##A B

jsonString$$ 
=$$ 
reader$$ 
.$$  
	ReadToEnd$$  )
($$) *
)$$* +
;$$+ ,
}%%
 
}&& 	
}'' 
List(( 

<((
 $
ConstellationButtonModel(( #
>((# $
constellations((% 3
=((4 5
new((6 9
List((: >
<((> ?$
ConstellationButtonModel((? W
>((W X
(((X Y
)((Y Z
;((Z [
JArray)) 
array)) 
=)) 
JArray)) 
.)) 
Parse)) !
())! "

jsonString))" ,
))), -
;))- .
foreach** 
(** 
JToken** 
token** 
in** 
array** $
)**$ %
{**& '
constellations++ 
.++ 
Add++ 
(++ 
new++ $
ConstellationButtonModel++ 7
{++7 8
name++8 <
=++= >
(++? @
string++@ F
)++F G
token++H M
[++M N
$str++N T
]++T U
,++U V
top++W Z
=++[ \
(++] ^
double++^ d
)++d e
token++f k
[++k l
$str++l q
]++q r
,++r s
left++t x
=++y z
(++{ |
double	++| Ç
)
++Ç É
token
++Ñ â
[
++â ä
$str
++ä ê
]
++ê ë
}
++ë í
)
++í ì
;
++ì î
},, 
return-- 
constellations-- 
;-- 
}.. 
List00 
<00 	
PlanetViewModel00	 
>00 
PlanetButtons00 '
(00' (
)00( )
{00* +
string11 

jsonString11 
=11 
null11 
;11 
HttpWebRequest22 
request22 
=22 
(22  
HttpWebRequest22  .
)22. /

WebRequest220 :
.22: ;
Create22; A
(22A B
$str22B z
)22z {
;22{ |
using33 
(33 
HttpWebResponse33 
response33 %
=33& '
(33( )
HttpWebResponse33) 8
)338 9
request33: A
.33A B
GetResponse33B M
(33M N
)33N O
)33O P
{33Q R
using44 
(44 
Stream44 
stream44 
=44 
response44 '
.44' (
GetResponseStream44( 9
(449 :
)44: ;
)44; <
{44= >
using55
 
(55 
StreamReader55 
reader55 $
=55% &
new55' *
StreamReader55+ 7
(557 8
stream558 >
)55> ?
)55? @
{55A B

jsonString66 
=66 
reader66 
.66  
	ReadToEnd66  )
(66) *
)66* +
;66+ ,
}77
 
}88 	
}99 
List:: 

<::
 
PlanetViewModel:: 
>:: 
planets:: #
=::$ %
new::& )
List::* .
<::. /
PlanetViewModel::/ >
>::> ?
(::? @
)::@ A
;::A B
JArray;; 
array;; 
=;; 
JArray;; 
.;; 
Parse;; !
(;;! "

jsonString;;" ,
);;, -
;;;- .
foreach<< 
(<< 
JToken<< 
token<< 
in<< 
array<< $
)<<$ %
{<<& '
planets== 
.== 
Add== 
(== 
new== 
PlanetViewModel== '
{==' (
Name==( ,
===- .
(==/ 0
string==0 6
)==6 7
token==8 =
[=== >
$str==> D
]==D E
,==E F
Top==G J
===K L
(==M N
double==N T
)==T U
token==V [
[==[ \
$str==\ a
]==a b
,==b c
Left==d h
===i j
(==k l
double==l r
)==r s
token==t y
[==y z
$str	==z Ä
]
==Ä Å
}
==Å Ç
)
==Ç É
;
==É Ñ
}>> 
return?? 
planets?? 
;?? 
}@@ 
publicBB 

IActionResultBB 
PrivacyBB  
(BB  !
)BB! "
{BB# $
returnCC 
ViewCC 
(CC 
)CC 
;CC 
}DD 
[FF 
ResponseCacheFF 
(FF 
DurationFF 
=FF 
$numFF 
,FF  
LocationFF! )
=FF* +!
ResponseCacheLocationFF, A
.FFA B
NoneFFB F
,FFF G
NoStoreFFH O
=FFP Q
trueFFR V
)FFV W
]FFW X
publicGG 

IActionResultGG 
ErrorGG 
(GG 
)GG  
{GG! "
returnHH 
ViewHH 
(HH 
newHH 
ErrorViewModelHH $
{HH% &
	RequestIdHH' 0
=HH1 2
ActivityHH3 ;
.HH; <
CurrentHH< C
?HHC D
.HHD E
IdHHE G
??HHH J
HttpContextHHK V
.HHV W
TraceIdentifierHHW f
}HHg h
)HHh i
;HHi j
}II 
}JJ 
}KK ª
[/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Controllers/PlanetController.cs
	namespace		 	
StarDex		
 
.		 
Client		 
.		 
Controllers		 $
{		% &
public

 

class

 
PlanetController

 !
:

" #

Controller

$ .
{

/ 0
[ 
HttpGet 
] 
public 
IActionResult 
Get 
( 
string %
name& *
)* +
{, -
string 

jsonString 
= 
null  
;  !
HttpWebRequest 
request 
=  
(! "
HttpWebRequest" 0
)0 1

WebRequest2 <
.< =
Create= C
(C D
$"D FB
6https://domainserviceapi.azurewebsites.net/api/Planet/F |
{| }
name	} Å
}
Å Ç
"
Ç É
)
É Ñ
;
Ñ Ö
using 
( 
HttpWebResponse 
response '
=( )
(* +
HttpWebResponse+ :
): ;
request< C
.C D
GetResponseD O
(O P
)P Q
)Q R
{S T
using
 
( 
Stream 
stream 
=  
response! )
.) *
GetResponseStream* ;
(; <
)< =
)= >
{? @
using 
( 
StreamReader 
reader  &
=' (
new) ,
StreamReader- 9
(9 :
stream: @
)@ A
)A B
{C D

jsonString 
= 
reader !
.! "
	ReadToEnd" +
(+ ,
), -
;- .
} 
}
 
} 	
PlanetViewModel 
model 
= 
JsonConvert  +
.+ ,
DeserializeObject, =
<= >
PlanetViewModel> M
>M N
(N O

jsonStringO Y
)Y Z
;Z [
request 
= 
( 
HttpWebRequest !
)! "

WebRequest# -
.- .
Create. 4
(4 5
$"5 7D
8https://imageservicerevadex.azurewebsites.net/api/Image/7 o
{o p
namep t
}t u
"u v
)v w
;w x
using 
( 
HttpWebResponse 
response '
=( )
(* +
HttpWebResponse+ :
): ;
request< C
.C D
GetResponseD O
(O P
)P Q
)Q R
{S T
using
 
( 
Stream 
stream 
=  
response! )
.) *
GetResponseStream* ;
(; <
)< =
)= >
{? @
using 
( 
StreamReader 
reader  &
=' (
new) ,
StreamReader- 9
(9 :
stream: @
)@ A
)A B
{C D
model 
. 
ImageURL 
= 
reader %
.% &
	ReadToEnd& /
(/ 0
)0 1
;1 2
} 
}
 
} 	
return 
View 
( 
$str 
, 
model #
)# $
;$ %
}   
}!! 
}"" ˚-
Y/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Controllers/StarController.cs
	namespace 	
StarDex
 
. 
Client 
. 
Controllers $
{% &
public		 

class		 
StarController		 
:		  !

Controller		" ,
{		- .
[

 
HttpGet

 
]

 
public 
IActionResult 
Get 
( 
string %
name& *
)* +
{, -
string 

jsonString 
= 
null  
;  !
HttpWebRequest 
request 
=  
(! "
HttpWebRequest" 0
)0 1

WebRequest2 <
.< =
Create= C
(C D
$"D F@
4https://domainserviceapi.azurewebsites.net/api/Star/F z
{z {
name{ 
}	 Ä
"
Ä Å
)
Å Ç
;
Ç É
HttpWebResponse 
response  
;  !
try 
{ 
response
 
= 
( 
HttpWebResponse %
)% &
request' .
.. /
GetResponse/ :
(: ;
); <
;< =
} 	
catch
 
( 
WebException 
e 
)  
{! "
StarViewModel
 
model 
= 
new  #
StarViewModel$ 1
{1 2
Name2 6
=7 8
name9 =
}= >
;> ?
response
 
= 
( 
HttpWebResponse %
)% &
e' (
.( )
Response) 1
;1 2
if
 
( 
response 
!= 
null 
) 
{  !
if 
( 
( 
int 
) 
response 
. 

StatusCode )
==* ,
$num- 0
)0 1
{2 3
model 
. 
reasonForError "
=# $
$str	% é
;
é è
} 
else 
{ 
model 
. 
reasonForError "
=# $
$"% '
A ' )
{) *
(* +
int+ .
). /
response0 8
.8 9

StatusCode9 C
}C D6
* error has occured processing your requestD n
"n o
;o p
} 
}
 
else 
{ 
model 
. 
reasonForError  
=! "
$str# i
;i j
}
 
return
 
View 
( 
$str 
, 
model $
)$ %
;% &
} 	
using 
( 
Stream 
stream 
= 
response '
.' (
GetResponseStream( 9
(9 :
): ;
); <
{= >
using  
 
(   
StreamReader   
reader   $
=  % &
new  ' *
StreamReader  + 7
(  7 8
stream  8 >
)  > ?
)  ? @
{  A B

jsonString!! 
=!! 
reader!! 
.!!  
	ReadToEnd!!  )
(!!) *
)!!* +
;!!+ ,
}""
 
}## 	
StarViewModel$$ 
model2$$ 
=$$ 
JsonConvert$$ *
.$$* +
DeserializeObject$$+ <
<$$< =
StarViewModel$$= J
>$$J K
($$K L

jsonString$$L V
)$$V W
;$$W X
request%% 
=%% 
(%% 
HttpWebRequest%% !
)%%! "

WebRequest%%# -
.%%- .
Create%%. 4
(%%4 5
$"%%5 7D
8https://imageservicerevadex.azurewebsites.net/api/Image/%%7 o
{%%o p
name%%p t
}%%t u
"%%u v
)%%v w
;%%w x
try&& 
{&& 
response''
 
='' 
('' 
HttpWebResponse'' %
)''% &
request''' .
.''. /
GetResponse''/ :
('': ;
)''; <
;''< =
}(( 	
catch((
 
((( 
WebException(( 
)(( 
{((  
StarViewModel))
 
model)) 
=)) 
new))  #
StarViewModel))$ 1
{))1 2
Name))2 6
=))7 8
name))9 =
}))= >
;))> ?
model**
 
.** 
reasonForError** 
=**  
$str**! 0
;**0 1
return++
 
View++ 
(++ 
$str++ 
,++ 
model++ $
)++$ %
;++% &
},, 	
using-- 
(-- 
Stream-- 
stream-- 
=-- 
response-- '
.--' (
GetResponseStream--( 9
(--9 :
)--: ;
)--; <
{--= >
using..
 
(.. 
StreamReader.. 
reader.. $
=..% &
new..' *
StreamReader..+ 7
(..7 8
stream..8 >
)..> ?
)..? @
{..A B
model2// 
.// 
imageURL// 
=// 
reader// $
.//$ %
	ReadToEnd//% .
(//. /
)/// 0
;//0 1
}00
 
}11 	
response33 
.33 
Dispose33 
(33 
)33 
;33 
return44 
View44 
(44 
$str44 
,44 
model244 "
)44" #
;44# $
}55 
}66 
}77 û
^/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Models/ConstellationButtonModel.cs
	namespace 	
StarDex
 
. 
Client 
. 
Models 
{  !
public 
class	 $
ConstellationButtonModel '
{( )
public 

string 
name 
{ 
get 
; 
set !
;! "
}# $
public 

double 
top 
{ 
get 
; 
set  
;  !
}" #
public 

double 
left 
{ 
get 
; 
set !
;! "
}# $
} 
} ˆ
\/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Models/ConstellationViewModel.cs
	namespace 	
StarDex
 
. 
Client 
. 
Models 
{  !
public 
class	 "
ConstellationViewModel %
{& '
public 

string 
name 
{ 
get 
; 
set !
;! "
}# $
public 

string 
imageURL 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
description 
{ 
get  #
;# $
set% (
;( )
}* +
public 

List 
< 
StarViewModel 
> 
stars $
{% &
get' *
;* +
set, /
;/ 0
}1 2
}		 
}

 ¿
T/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Models/ErrorViewModel.cs
	namespace 	
StarDex
 
. 
Client 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
bool		 
ShowRequestId		 !
=>		" $
!		% &
string		& ,
.		, -
IsNullOrEmpty		- :
(		: ;
	RequestId		; D
)		D E
;		E F
}

 
} Í
S/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Models/HomeViewModel.cs
	namespace 	
StarDex
 
. 
Client 
. 
Models 
{  !
public 
class	 
HomeViewModel 
{ 
public 

List 
< $
ConstellationButtonModel (
>( )
stars* /
;/ 0
public 

List 
< 
PlanetViewModel 
>  
planets! (
;( )
public 

string 
name 
{ 
get 
; 
set !
;! "
}# $
} 
}		 ì
U/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Models/PlanetViewModel.cs
	namespace 	
StarDex
 
. 
Client 
. 
Models 
{  !
public 
class	 
PlanetViewModel 
{  
public 

double 
Radius 
{ 
get 
; 
set  #
;# $
}% &
public 

double 
Mass 
{ 
get 
; 
set !
;! "
}# $
public 

double 
Volume 
{ 
get 
; 
set  #
;# $
}% &
public 

double 
Top 
{ 
get 
; 
set  
;  !
}" #
public 

double 
Left 
{ 
get 
; 
set !
;! "
}# $
public 

string 
Description 
{ 
get  #
;# $
set% (
;( )
}* +
public		 

string		 
Name		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 

string

 
ImageURL

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
} 
} â
S/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Models/StarViewModel.cs
	namespace 	
StarDex
 
. 
Client 
. 
Models 
{  !
public 
class	 
StarViewModel 
{ 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public 

double 
Distance 
{ 
get  
;  !
set" %
;% &
}' (
public 

double 
Temperature 
{ 
get  #
;# $
set% (
;( )
}* +
public 

double 
Mass 
{ 
get 
; 
set !
;! "
}# $
public 

string 
Description 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
imageURL 
{ 
get  
;  !
set" %
;% &
}' (
public		 

string		 
reasonForError		  
{		! "
get		# &
;		& '
set		( +
;		+ ,
}		- .
}

 
} æ

F/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Program.cs
	namespace

 	
StarDex


 
.

 
Client

 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} Ö
F/home/jchionglo/project-challenge-p2-revadex/StarDex.Client/Startup.cs
	namespace 	
StarDex
 
. 
Client 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. #
AddControllersWithViews ,
(, -
)- .
;. /
} 	
public 
void 
	Configure 
( 
IApplicationBuilder 1
app2 5
,5 6
IWebHostEnvironment7 J
envK N
)N O
{ 	
if   
(   
env   
.   
IsDevelopment   !
(  ! "
)  " #
)  # $
{!! 
app"" 
."" %
UseDeveloperExceptionPage"" -
(""- .
)"". /
;""/ 0
}## 
else$$ 
{%% 
app&& 
.&& 
UseExceptionHandler&& '
(&&' (
$str&&( 5
)&&5 6
;&&6 7
app(( 
.(( 
UseHsts(( 
((( 
)(( 
;(( 
})) 
app** 
.** 
UseHttpsRedirection** #
(**# $
)**$ %
;**% &
app++ 
.++ 
UseStaticFiles++ 
(++ 
)++  
;++  !
app-- 
.-- 

UseRouting-- 
(-- 
)-- 
;-- 
app// 
.// 
UseAuthorization//  
(//  !
)//! "
;//" #
app11 
.11 
UseEndpoints11 
(11 
	endpoints11 &
=>11' )
{22 
	endpoints33 
.33 
MapControllerRoute33 ,
(33, -
name44 
:44 
$str44 #
,44# $
pattern55 
:55 
$str55 E
)55E F
;55F G
}66 
)66 
;66 
}77 	
}88 
}99 